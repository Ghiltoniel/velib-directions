<!DOCTYPE html>
<html ng-app="starter">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
	<meta http-equiv="Content-Security-Policy" content="default-src *; script-src 'self' 'unsafe-inline' 'unsafe-eval' *; style-src  'self' 'unsafe-inline' *">
    <title>Vélib Directions</title>

    <link href="lib/ionic/css/ionic.css" rel="stylesheet">
    <link href="lib/ion-autocomplete/dist/ion-autocomplete.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    <link href="css/ionic.app.css" rel="stylesheet">
    -->

    <!-- ionic/angularjs js -->
    <script src="lib/ionic/js/ionic.bundle.js"></script>
	<script src="lib/ion-autocomplete/dist/ion-autocomplete.js"></script>

    <!-- cordova script (this will be a 404 during development) -->
	<script src="lib/ngCordova/dist/ng-cordova.js"></script>
	<script src="js/ng-cordova-fallback.min.js"></script>
	<script src="js/ng-cordova-fallback-injections.js"></script>
    <script src="cordova.js"></script>
	
	<script src="//maps.googleapis.com/maps/api/js?key=AIzaSyB16sGmIekuGIvYOfNoW9T44377IU2d2Es&sensor=true&libraries=places"></script>

    <!-- your app's js -->
    <script src="js/app.js"></script>
    <script src="js/controller.js"></script>
	
  </head>
  <body ng-controller="MapCtrl">
	<ion-header-bar  class="bar bar-header">
	  <label class="item-input-wrapper">
		<i class="icon ion-ios-search placeholder-icon"></i>
		<input ion-autocomplete 
		       type="text"
			   readonly="readonly"
			   class="ion-autocomplete"
			   placeholder="Départ : {{myPosition.formatted_address}}"
			   autocomplete="off"
			   ng-model="queryFrom"
			   item-view-value-key="formatted_address"
			   items-method="getAddressSuggestions(query)"/>
	  </label>
	</ion-header-bar>
	<ion-header-bar class="bar bar-subheader">
	  <label class="item-input-wrapper">
		<i class="icon ion-ios-search placeholder-icon"></i>
		<input ion-autocomplete 
			   type="text" 
			   readonly="readonly" 
			   class="ion-autocomplete" 
			   autocomplete="off" 
			   ng-model="queryTo"
			   item-view-value-key="formatted_address"
			   placeholder="Destination"
			   items-method="getAddressSuggestions(query)" />
	  </label>
	</ion-header-bar>
    <ion-content class="has-header has-subheader">
		<div id="map" data-tap-disabled="true"></div>
		<div class="infos" ng-show="distance && duration">
			<p><strong>Total</strong> : {{distance.walk + distance.bike | number:2}} km, {{duration.walk + duration.bike | number:2}} mn</p>
			<p><strong><span class="ion-android-walk"></strong> : {{distance.walk | number:2}} km, {{duration.walk | number:2}} mn
			 | <strong><span class="ion-android-bicycle"></strong> : {{distance.bike | number:2}} km, {{duration.bike | number:2}} mn</p>
		</div>
    </ion-content>
  </body>
</html>
